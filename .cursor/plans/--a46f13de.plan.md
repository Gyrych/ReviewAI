<!-- a46f13de-a917-40a5-8cd1-8a6e3518c4ef 18b39a77-c0c1-497d-84e8-ca8577af42bc -->
# 重写 services/circuit-agent 的 README

目标：对 `services/circuit-agent` 目录下的代码进行系统性理解（逐文件逐行阅读用于理解，但不把逐行分析直接写入 README），然后编写一份完整的 `README.md`，内容包含：项目概述、架构图（mermaid）、流程图（mermaid）、接口文档（每个 API 的路径、方法、参数、示例请求/响应）、使用规范（认证、错误码、限流、安全）、部署/运行说明、常见问题与调试要点。

假设/约定：

- 我会先读取并参考根目录下的 `CURSOR.md`（若存在）以复现项目记忆。若 `CURSOR.md` 与代码实现不一致，我会在 README 草稿中注记差异并征询您确认。
- 您要求我先理解再写文档，我将把逐文件逐行的结论性理解用于驱动 README 内容，但不会把原始逐行笔记写入 README。
- 图示使用 mermaid 语法嵌入 `README.md`。

交付物：

- `services/circuit-agent/README.md`（中文，包含所有要求内容及 mermaid 图）
- 可选：一份简短的变更注记，说明 README 中基于代码理解所做的关键假设（便于您确认）

实施步骤：

1. 读取并复习根目录 `CURSOR.md`（若存在），复现项目背景记忆。  
2. 列出 `services/circuit-agent` 下的文件清单并逐文件读取（逐行理解代码，定位 API 路由、服务入口、配置、依赖、关键模块与数据结构）。  
3. 提取并汇总：API 路由（路径、方法）、请求/响应格式、错误处理、配置项、启动/运行命令、日志位置、环境变量。  
4. 基于汇总撰写 README 草稿：包含概述、安装与启动、配置、API 详解（含示例）、架构图（mermaid）、主流程图（mermaid）、安全与使用规范、调试与日志、FAQ。  
5. 把 README 草稿提交给您审阅；在您确认前不做任何文件写入或提交。

里程碑与交互点：

- 在步骤1-3（代码阅读）完成后我会向您汇报关键发现与任何需要您确认的反常点（例如：代码中的未记录环境变量、未完成的接口或与 `CURSOR.md` 不符之处）。
- 在您确认无重大问题后，我会生成 README 草稿并展示给您，等待您的确认或修改指示。

时间估计：

- 若 `services/circuit-agent` 目录约 20 个文件以内，预计阅读与分析 20-40 分钟，生成 README 草稿 10-20 分钟。

需要您现在确认的事项（若不回复，我将按默认执行）：

1. 我将使用中文完成所有文档与沟通（默认）。
2. 我将把 README 写为中文 `README.md`，并包含 mermaid 图示（默认）。

下面是我将创建的具体实现任务（todos），请确认以便我继续：

- analyze-files: 逐文件读取并理解 `services/circuit-agent` 下代码
- extract-apis: 提取所有 HTTP/IPC/API 路由与数据模型
- draft-readme: 基于分析结果撰写 `services/circuit-agent/README.md` 草稿（含 mermaid 图）
- present-draft: 把 README 草稿发送给您审阅并列出需要确认的假设

### To-dos

- [ ] 逐文件读取并理解 `services/circuit-agent` 下代码
- [ ] 提取并规范化所有 API 路由与数据模型
- [ ] 基于分析结果撰写 `services/circuit-agent/README.md` 草稿（含 mermaid 图）
- [ ] 把 README 草稿发送给您审阅并列出需要确认的假设